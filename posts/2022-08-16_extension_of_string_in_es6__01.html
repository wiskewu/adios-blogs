<html lang="zh"><head><title>Adiós Blog - 《ES6标准入门》- 字符串的扩展(上)</title><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="description" content="Adiós的个人博客网站"/><meta name="author"/><meta name="kewords" content="Adiós's independent blog"/><link rel="stylesheet" href="/adios-blogs/statics/css/purecss/purecss-min@2.1.0.css"/><link rel="stylesheet" href="/adios-blogs/statics/css/purecss/purecss@2.1.0-base-min.css"/><link rel="stylesheet" href="/adios-blogs/statics/css/purecss/purecss@2.1.0-grids-responsive-min.css"/><link rel="stylesheet" href="/adios-blogs/statics/css/theme.css"/><link rel="stylesheet" href="/adios-blogs/statics/css/layout.css"/><link rel="apple-touch-icon" sizes="180x180" href="/adios-blogs/statics/icons/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/adios-blogs/statics/icons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/adios-blogs/statics/icons/favicon-16x16.png"/><link rel="manifest" href="/adios-blogs/statics/icons/site.webmanifest"/><link id="hl-github" rel="stylesheet" href="/adios-blogs/statics/css/highlight.js/github.css"/><link rel="stylesheet" href="/adios-blogs/statics/css/markdown.css"/><link rel="stylesheet" href="/adios-blogs/statics/css/post.css"/></head><body class="theme-light"><div id="app"><div id="app-container"><header class="app-post-header pure-g"><div class="pure-u-1"><div class="pure-g app-post-header--box"><h1 class="pure-u-1 post-header-title">《ES6标准入门》- 字符串的扩展(上)</h1><div class="pure-u-1 post-header-info"><p class="post-header-info--created"><svg class="icon icon" aria-hidden="true"><use xlink:href="#calendar" x="0" y="0" width="16" height="16"></use></svg><span>16/08/2022 23:45</span></p><span class="post-header-info--divider">·</span><p class="post-header-info--author"><svg class="icon icon" aria-hidden="true"><use xlink:href="#pencil-alt" x="0" y="0" width="16" height="16"></use></svg><span>wiskewu</span></p></div></div></div></header><div class="pure-g app-post-navigation"><span click="toggleTheme()"><a href="/adios-blogs/"><svg class="icon icon" aria-hidden="true" style="width:24px;height:24px;"><use xlink:href="#home" x="0" y="0" width="24" height="24"></use></svg></a></span><span class="theme-btn" onclick="toggleTheme(this)"><svg class="icon icon" aria-hidden="true" style="width:24px;height:24px;"><use xlink:href="#sun" x="0" y="0" width="24" height="24"></use></svg></span></div><hr/><main class="app-body"><section class="app-post-body"><article class="markdown app-post-body-content"><blockquote>
<p>参见阮一峰《ES6标准入门》Chapter4：字符串扩展 P49</p>
</blockquote>
<h4 id="unicode" tabindex="-1"><a class="header-anchor" href="#unicode">#</a>字符的Unicode表示法</h4>
<p>JS采用<code>\uxxxx</code>形式表示一个字符，其中<code>xxxx</code>表示字符的<code>Unicode</code><strong>码点</strong>。如：</p>
<pre class="language-js" data-lang="Javascript"><code><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;\u0061&#x27;</span>); <span class="hljs-comment">// a</span>
</code></pre>
<p>这种表示法仅限于码点在<code>\u0000</code>-<code>\uFFFF</code>之间的字符，超出这个范围的字符，必须用两个双字节的形式表示，如：</p>
<pre class="language-js" data-lang="Javascript"><code><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;\uD842\uDFB6&#x27;</span>); <span class="hljs-comment">// 𠮶</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;\u20BB6&#x27;</span>); <span class="hljs-comment">// ₻6</span>
</code></pre>
<p>上述代码表示，如果直接在<code>\u</code>后面跟上超过<code>0xFFFF</code>的数值（比如’\u20BB6’）,JS会理解成<code>\u20BB</code>+<code>6</code>。<br>
ES6对上述做出了改进，只需要将<strong>码点</strong>放入大括号，就能正确解读该字符：</p>
<pre class="language-js" data-lang="Javascript"><code><span class="hljs-comment">// 单字符</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;\u{20BB6}&#x27;</span>); <span class="hljs-comment">// 𠮶</span>

<span class="hljs-comment">// 多字符</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;\u{41}\u{42}\u{43}&#x27;</span>); <span class="hljs-comment">// ABC</span>

<span class="hljs-keyword">let</span> hello = <span class="hljs-number">123</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;hell\u{6F}&#x27;</span>); <span class="hljs-comment">// hello</span>

<span class="hljs-comment">// 字符的双字节、四字节表示</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;\u{1F680}&#x27;</span> === <span class="hljs-string">&#x27;\uD83D\uDE80&#x27;</span>); <span class="hljs-comment">// true</span>
</code></pre>
<p>上述最后一个例子表明，<strong>字符的大括号表示法与四字节的<code>UTF-16</code>编码是等价的</strong>。</p>
<p>至此，JS共有六种方法可以表示一个字符：</p>
<pre class="language-js" data-lang="Javascript"><code><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;\z&#x27;</span> === <span class="hljs-string">&#x27;z&#x27;</span>); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;\172&#x27;</span> === <span class="hljs-string">&#x27;z&#x27;</span>); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;\x7A&#x27;</span> === <span class="hljs-string">&#x27;z&#x27;</span>); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;\u007A&#x27;</span> === <span class="hljs-string">&#x27;z&#x27;</span>); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;\u{7A}&#x27;</span> === <span class="hljs-string">&#x27;z&#x27;</span>); <span class="hljs-comment">// true</span>
</code></pre>
<h4 id="codepointat()" tabindex="-1"><a class="header-anchor" href="#codepointat()">#</a>codePointAt()</h4>
<p>在JS内部，字符以UTF-16的格式存储，<strong>每个字符固定为2个字节</strong>。对于那些需要4个字节存储的字符（Unicode码点大于<code>0xFFFF</code>的字符），JS会认为它们是2个字符。</p>
<pre class="language-js" data-lang="Javascript"><code><span class="hljs-keyword">var</span> s = <span class="hljs-string">&quot;𠮷&quot;</span>;

s.<span class="hljs-property">length</span>; <span class="hljs-comment">// 2</span>
s.<span class="hljs-title function_">charAt</span>(<span class="hljs-number">0</span>); <span class="hljs-comment">// &#x27;&#x27;</span>
s.<span class="hljs-title function_">charAt</span>(<span class="hljs-number">1</span>); <span class="hljs-comment">// &#x27;&#x27;</span>
s.<span class="hljs-title function_">charCodeAt</span>(<span class="hljs-number">0</span>); <span class="hljs-comment">// 55362</span>
s.<span class="hljs-title function_">charCodeAt</span>(<span class="hljs-number">1</span>); <span class="hljs-comment">// 57271</span>
</code></pre>
<p>上述代码中，汉字“𠮷”的码点是0x20BB7, UTF-16编码为’0xD842 0xDFB7’(十进制为55362 57271), 需要4个字节储存。由于JS不能正确处理4字节的字符，字符串长度会被误判为2，而且<code>charAt</code>方法无法正确读取整个字符，<code>charCodeAt</code>方法分别返回前2个字节和后两个字节的值。</p>
<p>ES6提供了<code>codePointAt</code>方法，能够正确处理4个字节储存的字符，返回一个字符的码点。</p>
<pre class="language-js" data-lang="Javascript"><code><span class="hljs-keyword">var</span> s = <span class="hljs-string">&#x27;𠮷a&#x27;</span>;

s.<span class="hljs-title function_">codePointAt</span>(<span class="hljs-number">0</span>); <span class="hljs-comment">// 134071</span>
s.<span class="hljs-title function_">codePointAt</span>(<span class="hljs-number">1</span>); <span class="hljs-comment">// 57271</span>
s.<span class="hljs-title function_">codePointAt</span>(<span class="hljs-number">2</span>); <span class="hljs-comment">// 97</span>
</code></pre>
<p>上述代码中，JS将’𠮷a’视为3个字符，<code>codePointAt</code>方法在第一个字符上正确地识别了’𠮷’,返回它的十进制码点134071（即十六进制地20BB7）。在第二个字符（即’𠮷’后2个字节）和第三个字符上，<code>codePointAt</code>与<code>charCodeAt</code>方法返回的结果相同。</p>
<p>总之，<code>codePointAt</code>会正确返回32位的UTF-16字符的码点。对于那些2个字节存储的常规字符，它的返回结果与<code>charCodeAt</code>方法相同。</p>
<p><code>codePointAt</code>返回的是码点的十进制值，如果想要十六进制的值，可以使用<code>toString</code>方法转换：</p>
<pre class="language-js" data-lang="Javascript"><code><span class="hljs-keyword">var</span> s = <span class="hljs-string">&#x27;𠮷a&#x27;</span>;

s.<span class="hljs-title function_">codePointAt</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>); <span class="hljs-comment">// &quot;20BB7&quot;</span>
s.<span class="hljs-title function_">codePointAt</span>(<span class="hljs-number">2</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>); <span class="hljs-comment">// &quot;61&quot;</span>
</code></pre>
<h5 id="codepointat" tabindex="-1"><a class="header-anchor" href="#codepointat">#</a>正确使用codePointAt</h5>
<p>上述字符串’𠮷a’中，'a’的正确位置序号是1, 但是必须向<code>codePointAt</code>方法传入2; 解决这个问题的一个办法是使用<code>for...of</code>循环，它会正确识别32位的UTF-16字符。</p>
<pre class="language-js" data-lang="Javascript"><code><span class="hljs-keyword">var</span> s = <span class="hljs-string">&#x27;𠮷a&#x27;</span>;

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> ch <span class="hljs-keyword">of</span> s) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ch.<span class="hljs-title function_">codePointAt</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">16</span>));
}

<span class="hljs-comment">// 20BB7</span>
<span class="hljs-comment">// 61</span>
</code></pre>
<p><code>codePointAt</code>方法是测试一个字符由2个字节还是4个字节组成的最简单方法：</p>
<pre class="language-js" data-lang="Javascript"><code><span class="hljs-keyword">function</span> <span class="hljs-title function_">is32Bit</span>(<span class="hljs-params">c</span>) {
    <span class="hljs-keyword">return</span> c.<span class="hljs-title function_">codePointAt</span>(<span class="hljs-number">0</span>) &gt; <span class="hljs-number">0xFFFF</span>;
}

<span class="hljs-title function_">is32Bit</span>(<span class="hljs-string">&#x27;𠮷&#x27;</span>); <span class="hljs-comment">// true</span>
<span class="hljs-title function_">is32Bit</span>(<span class="hljs-string">&#x27;a&#x27;</span>); <span class="hljs-comment">// false</span>
</code></pre>
<h4 id="string.fromcodepoint()" tabindex="-1"><a class="header-anchor" href="#string.fromcodepoint()">#</a>String.fromCodePoint()</h4>
<p>与<code>codePointAt</code>对应，ES6提供了<code>String.FromCodePoint</code>方法用于识别32位的UTF-16字符，弥补了<code>String.FromCharCode</code>方法的不足。</p>
<pre class="language-js" data-lang="Javascript"><code><span class="hljs-title class_">String</span>.<span class="hljs-title function_">fromCodePoint</span>(<span class="hljs-number">0x20BB7</span>); <span class="hljs-comment">// &#x27;𠮷&#x27;</span>

<span class="hljs-title class_">String</span>.<span class="hljs-title function_">fromCodePoint</span>(<span class="hljs-number">0x78</span>, <span class="hljs-number">0x1f680</span>, <span class="hljs-number">0x79</span>) === <span class="hljs-string">&#x27;x\uD83D\uDE80y&#x27;</span>; <span class="hljs-comment">// true</span>
</code></pre>
<p>可知，<code>String.fromCodePoint</code>方法支持多个参数，它们会被合并为一个字符串返回。</p>
<h4 id="1661046506887-001" tabindex="-1"><a class="header-anchor" href="#1661046506887-001">#</a>字符串的遍历器接口</h4>
<p>前面提到，<code>for...of</code>可以正确识别32位的UTF-16字符，而普通的<code>for (;;)</code>循环则无法正确识别大于<code>0xFFFFF</code>码点地字符。</p>
<h4 id="at()" tabindex="-1"><a class="header-anchor" href="#at()">#</a>at()</h4>
<p>ES5对字符串提供了<code>charAt</code>方法，返回字符串给定位置的字符，但该方法无法正确识别码点大于<code>0xFFFF</code>的字符。</p>
<pre class="language-js" data-lang="Javascript"><code><span class="hljs-string">&#x27;abc&#x27;</span>.<span class="hljs-title function_">charAt</span>(<span class="hljs-number">0</span>); <span class="hljs-comment">// &#x27;a&#x27;</span>
<span class="hljs-string">&#x27;𠮷&#x27;</span>.<span class="hljs-title function_">charAt</span>(<span class="hljs-number">0</span>); <span class="hljs-comment">// &#x27;\uD842&#x27;</span>
</code></pre>
<p>上述代码中，<code>charAt</code>方法返回地是UTF-16编码的第一个字节，实际上是无法显示字符的。</p>
<p>目前，有一个提案提出字符串实例<code>at</code>方法，可以识别Unicode编号大于0xFFFF的字符，返回正确的字符。</p>
<pre class="language-js" data-lang="Javascript"><code><span class="hljs-string">&#x27;abc&#x27;</span>.<span class="hljs-title function_">at</span>(<span class="hljs-number">0</span>); <span class="hljs-comment">// &#x27;a&#x27;</span>
<span class="hljs-string">&#x27;𠮷&#x27;</span>.<span class="hljs-title function_">at</span>(<span class="hljs-number">0</span>); <span class="hljs-comment">// &#x27;𠮷&#x27;</span>
</code></pre>
<p>这个方法可以通过<a href="github.com/es-shims/String.prototype.at">垫片库</a>实现。</p>
<h4 id="normalize()" tabindex="-1"><a class="header-anchor" href="#normalize()">#</a>normalize()</h4>
<p>许多欧洲语言有语调符号和重音符号，为了表示它们，Unicode提供了两种方法，一种是直接提供带重音符号的字符，比如’Ǒ’(\u01D1); 另一种是提供<strong>合成符号</strong>（combining character），即原字符与重音符号合成为一个字符，比如’O’（\u004F）与’̌’（\u030C）合成’Ǒ’(\u004F\u030C)。</p>
<p>这两种表示方法在视觉和语义上都是等价的，但是JS却无法识别。</p>
<pre class="language-js" data-lang="Javascript"><code><span class="hljs-string">&#x27;\u01D1&#x27;</span> === <span class="hljs-string">&#x27;\u004F\u030C&#x27;</span>; <span class="hljs-comment">// false</span>
<span class="hljs-string">&#x27;\u01D1&#x27;</span>.<span class="hljs-property">length</span>; <span class="hljs-comment">// 1</span>
<span class="hljs-string">&#x27;\u004F\u030C&#x27;</span>.<span class="hljs-property">length</span>; <span class="hljs-comment">// 2</span>
</code></pre>
<p>ES6为字符串提供了<code>normalize</code>方法，用来将字符的不同表示方法统一为同样的形式，这称为Unicode正规化。</p>
<pre class="language-js" data-lang="Javascript"><code><span class="hljs-string">&#x27;\u01D1&#x27;</span>.<span class="hljs-title function_">normalize</span>() === <span class="hljs-string">&#x27;\u004F\u030C&#x27;</span>.<span class="hljs-title function_">normalize</span>(); <span class="hljs-comment">// true</span>
</code></pre>
<p><code>normalize</code>方法接受一个参数用来指定normalize的方式：</p>
<ul>
<li>NFC: 默认参数，表示&quot;标准等价合成&quot;(Normalization Form Canonical Composition);</li>
<li>NFD: 表示&quot;标准等价分解&quot;(Normalization Form Canonical Decomposition);</li>
<li>NFKC: 表示&quot;兼容等价合成&quot;(Normalization Form Compatibility Composition);</li>
<li>NFKD: 表示&quot;兼容等价分解&quot;(Normalization Form Compatibility Decomposition);</li>
</ul>
<p><code>normalize</code>方法目前不能识别3个或3个以上字符的合成，这种情况下，还是只能使用正则表达式，通过Unicode编号区间判断。</p>
<h4 id="include()startswith()endswith()" tabindex="-1"><a class="header-anchor" href="#include()startswith()endswith()">#</a>include()、startsWith()、endsWith()</h4>
<p>ES6增加3种方法用来确定一个字符串是否包含在另一个字符串中：</p>
<ul>
<li>include(): 返回布尔值，表示是否找到参数字符串；</li>
<li>startsWith(): 返回布尔值，表示参数字符串是否在源字符串的头部；</li>
<li>endsWith(): 返回布尔值，表示参数字符串是否在源字符串的尾部；</li>
</ul>
<pre class="language-js" data-lang="Javascript"><code><span class="hljs-keyword">var</span> s = <span class="hljs-string">&#x27;Hello world!&#x27;</span>;

s.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">&#x27;Hello&#x27;</span>); <span class="hljs-comment">// true</span>
s.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">&#x27;!&#x27;</span>); <span class="hljs-comment">// true</span>
s.<span class="hljs-title function_">include</span>(<span class="hljs-string">&#x27;o&#x27;</span>); <span class="hljs-comment">// true</span>

<span class="hljs-comment">// 三种方法都支持第二个参数，表示开始搜索的位置</span>
s.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">&#x27;world&#x27;</span>, <span class="hljs-number">6</span>); <span class="hljs-comment">// true</span>
s.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">&#x27;Hello&#x27;</span>, <span class="hljs-number">5</span>); <span class="hljs-comment">// true</span>
s.<span class="hljs-title function_">include</span>(<span class="hljs-string">&#x27;Hello&#x27;</span>, <span class="hljs-number">6</span>); <span class="hljs-comment">// false</span>
</code></pre>
<p>当接受第二个参数<code>n</code>时，<code>endsWith</code>的行为与其他两个方法有所不同，它针对前n个字符，而其他两个方法针对从第n个位置到字符串结束位置之间的字符。</p>
<h4 id="repeat()" tabindex="-1"><a class="header-anchor" href="#repeat()">#</a>repeat()</h4>
<p><code>repeat</code>方法返回一个新字符串，表示将原字符串重复n次。</p>
<pre class="language-js" data-lang="Javascript"><code><span class="hljs-string">&#x27;x&#x27;</span>.<span class="hljs-title function_">repeat</span>(<span class="hljs-number">3</span>); <span class="hljs-comment">// &#x27;xxx&#x27;</span>
<span class="hljs-string">&#x27;hello&#x27;</span>.<span class="hljs-title function_">repeat</span>(<span class="hljs-number">2</span>); <span class="hljs-comment">// &#x27;hellohello&#x27;</span>
<span class="hljs-comment">// 重复0次时，返回空字符串</span>
<span class="hljs-string">&#x27;na&#x27;</span>.<span class="hljs-title function_">repeat</span>(<span class="hljs-number">0</span>); <span class="hljs-comment">// &#x27;&#x27;</span>

<span class="hljs-comment">// 参数如果是小数，会被取整。</span>
<span class="hljs-string">&#x27;na&#x27;</span>.<span class="hljs-title function_">repeat</span>(<span class="hljs-number">2.9</span>); <span class="hljs-comment">// &#x27;nana&#x27;</span>

<span class="hljs-comment">// 如果参数是负数或Infinity，抛出异常</span>
<span class="hljs-string">&#x27;na&#x27;</span>.<span class="hljs-title function_">repeat</span>(<span class="hljs-title class_">Infinity</span>); <span class="hljs-comment">// RangeError</span>
<span class="hljs-string">&#x27;na&#x27;</span>.<span class="hljs-title function_">repeat</span>(-<span class="hljs-number">1</span>); <span class="hljs-comment">// RangeError</span>

<span class="hljs-comment">// -1～0之间的参数，会被视为0</span>
<span class="hljs-string">&#x27;na&#x27;</span>.<span class="hljs-title function_">repeat</span>(-<span class="hljs-number">0.9</span>); <span class="hljs-comment">// &#x27;&#x27;</span>

<span class="hljs-comment">// NaN 等同于0</span>
<span class="hljs-string">&#x27;na&#x27;</span>.<span class="hljs-title function_">repeat</span>(<span class="hljs-title class_">NaN</span>); <span class="hljs-comment">// &#x27;&#x27;</span>

<span class="hljs-comment">// 参数是字符串，会先转换为数字</span>
<span class="hljs-string">&#x27;na&#x27;</span>.<span class="hljs-title function_">repeat</span>(<span class="hljs-string">&#x27;aaa&#x27;</span>); <span class="hljs-comment">// &#x27;&#x27;</span>
<span class="hljs-string">&#x27;na&#x27;</span>.<span class="hljs-title function_">repeat</span>(<span class="hljs-string">&#x27;3&#x27;</span>); <span class="hljs-comment">// &#x27;nanana&#x27;</span>
</code></pre>
<h4 id="padstart()padend()" tabindex="-1"><a class="header-anchor" href="#padstart()padend()">#</a>padStart()、padEnd()</h4>
<p>ES2017引入了字符串补全长度的功能。</p>
<pre class="language-js" data-lang="Javascript"><code><span class="hljs-string">&#x27;x&#x27;</span>.<span class="hljs-title function_">padStart</span>(<span class="hljs-number">5</span>, <span class="hljs-string">&#x27;ab&#x27;</span>); <span class="hljs-comment">// &#x27;ababx&#x27;</span>
<span class="hljs-string">&#x27;x&#x27;</span>.<span class="hljs-title function_">padStart</span>(<span class="hljs-number">4</span>, <span class="hljs-string">&#x27;ab&#x27;</span>); <span class="hljs-comment">// &#x27;abax&#x27;</span>

<span class="hljs-string">&#x27;x&#x27;</span>.<span class="hljs-title function_">padEnd</span>(<span class="hljs-number">5</span>, <span class="hljs-string">&#x27;ab&#x27;</span>); <span class="hljs-comment">// &#x27;xabab&#x27;</span>
<span class="hljs-string">&#x27;x&#x27;</span>.<span class="hljs-title function_">padEnd</span>(<span class="hljs-number">4</span>, <span class="hljs-string">&#x27;ab&#x27;</span>); <span class="hljs-comment">// &#x27;xaba&#x27;</span>
</code></pre>
<p><code>padStart</code>和<code>padEnd</code>分别接受两个参数，第一个参数用来指定字符串的最小长度，第二个参数则是用来补全的字符串。<br>
如果原字符串的长度等于或大于指定的最小长度，则返回原字符串。</p>
<pre class="language-js" data-lang="Javascript"><code><span class="hljs-string">&#x27;xxx&#x27;</span>.<span class="hljs-title function_">padStart</span>(<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;ab&#x27;</span>); <span class="hljs-comment">// &#x27;xxx&#x27;</span>
<span class="hljs-string">&#x27;xxx&#x27;</span>.<span class="hljs-title function_">padEnd</span>(<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;ab&#x27;</span>); <span class="hljs-comment">// &#x27;xxx&#x27;</span>
</code></pre>
<p>如果用来补全的字符串与字符串的长度之和超出了指定的最小长度，则会截去超出位数的补全字符串。</p>
<pre class="language-js" data-lang="Javascript"><code><span class="hljs-string">&#x27;abc&#x27;</span>.<span class="hljs-title function_">padStart</span>(<span class="hljs-number">10</span>, <span class="hljs-string">&#x27;0123456789&#x27;</span>);
<span class="hljs-comment">// &#x27;0123456abc&#x27;</span>
</code></pre>
<p>如果省略第二个参数，则会使用空格来补全。<br>
<code>padStart</code>的常见用途是为数值补全指定位数，下面的代码将生成10位的数值字符串：</p>
<pre class="language-js" data-lang="Javascript"><code><span class="hljs-string">&#x27;1&#x27;</span>.<span class="hljs-title function_">padStart</span>(<span class="hljs-number">10</span>, <span class="hljs-string">&#x27;0&#x27;</span>); <span class="hljs-comment">// &#x27;0000000001&#x27;</span>
<span class="hljs-string">&#x27;12&#x27;</span>.<span class="hljs-title function_">padStart</span>(<span class="hljs-number">10</span>, <span class="hljs-string">&#x27;0&#x27;</span>); <span class="hljs-comment">// &#x27;0000000012&#x27;</span>
<span class="hljs-string">&#x27;123456&#x27;</span>.<span class="hljs-title function_">padStart</span>(<span class="hljs-number">10</span>, <span class="hljs-string">&#x27;0&#x27;</span>); <span class="hljs-comment">// &#x27;0000123456&#x27;</span>
</code></pre>
<p>另一个用途是提示字符串格式：</p>
<pre class="language-js" data-lang="Javascript"><code><span class="hljs-string">&#x27;12&#x27;</span>.<span class="hljs-title function_">padStart</span>(<span class="hljs-number">10</span>, <span class="hljs-string">&#x27;YYYY-MM-DD&#x27;</span>); <span class="hljs-comment">// &#x27;YYYY-MM-12&#x27;</span>

<span class="hljs-string">&#x27;09-12&#x27;</span>.<span class="hljs-title function_">padStart</span>(<span class="hljs-number">10</span>, <span class="hljs-string">&#x27;YYYY-MM-DD&#x27;</span>); <span class="hljs-comment">// &#x27;YYYY-09-12&#x27;</span>
</code></pre>
</article></section></main><section class="app-post-footer"><div class="pure-g app-post-footer--box"><div class="pure-u-1 post-footer-updated"><svg class="icon icon" aria-hidden="true"><use xlink:href="#calendar" x="0" y="0" width="16" height="16"></use></svg><span>Updated at 20/08/2022 13:30</span></div><div class="pure-u-1"><div class="pure-g"><svg class="icon icon" aria-hidden="true"><use xlink:href="#tag" x="0" y="0" width="16" height="16"></use></svg><ul class="pure-g post-footer-tags"><li><a href="/adios-blogs/tags/es6/1.html" title="ES6">ES6</a></li></ul></div></div><div class="pure-u-1"><div class="pure-g"><svg class="icon icon" aria-hidden="true"><use xlink:href="#folder" x="0" y="0" width="16" height="16"></use></svg><ul class="pure-g post-footer-categories"><li><a href="/adios-blogs/categories/前端/1.html" title="前端">前端</a></li></ul></div></div></div></section><style>.scroll-btn {
    position: fixed;
    display: none;
    right: 3em;
    bottom: 4.5em;
    width: 28px;
    height: 28px;
    opacity: .5;
    cursor: pointer;
    z-index: 1;
}
.scroll-btn:hover {
    opacity: 1;
}
</style><span class="scroll-btn"><svg class="icon icon" aria-hidden="true" style="width:28px;height:28px;"><use xlink:href="#arrow-up" x="0" y="0" width="28" height="28"></use></svg></span><script>function getBtn() {
    var btns = document.getElementsByClassName('scroll-btn');
    if (btns && btns.length) return btns[0];
    return null;
}
function scrollTop(btn) {
    window.scrollTo({
        top: 0,
        behavior: 'smooth'
    });
    btn.style.display = 'none';
}

function debouce(callback, ms) {
    var t = null;
    return function () {
        var args = Array.prototype.slice.call(arguments);
        var ctx = this;
        if (t) {
            clearTimeout(t);
        }
        t = setTimeout(function () {
                clearTimeout(t);
                t = null;
                callback.apply(ctx, args);
            }, ms);
    }
}

//- place here for dom ready
~(function () {
    function setStyle() {
        var btn = getBtn();
        var sH = window.scrollY;
        if (btn) {
            btn.style.display = sH > 100 ? 'inline' : 'none';
        }
        return btn;
    }

    var btn = setStyle();
    if (btn) {
        btn.addEventListener('click', function () {
            scrollTop(this);
        });
        window.onscroll = debouce(setStyle, 500);
    }
    btns = null;
})();</script><footer class="pure-g app-footer"><div class="pure-u-1"><div class="pure-g"><div class="pure-u-1"><abbr class="share-license" title="This site and all its content are licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.">CC BY-NC 4.0</abbr><span class="copyright">&copy; wiskewu. 2022</span></div><div class="pure-u-1 last-update">站点最后更新于: 8/21/2022</div></div></div></footer></div></div></body><script src="/adios-blogs/statics/js/main.js"></script></html>